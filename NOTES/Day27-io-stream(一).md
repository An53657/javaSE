# io流(一)  io-stream(一)


---



## 1.IO流的体系

 ![IT-黑马-IO流的体系-](C:\Users\kelly\Pictures\Screenshots\IT-黑马-IO流的体系-.png)


 ---

1. 什么是IO流
   存储和读取数据的解决方案
   I: input         O: output
   流:水流一样传输数据

2. IO流的作用
   用来读写数据(本地，网络数据)

3. IO流按照流行可以分类那两种流
   输出流: 程序 => 文件   把程序中的数据写出本地文件当中
   输入流: 文件  => 程序  把本地文件中的数据读取到程序当中

4. IO流按照操作文件的类型可以分为那两种流
   字节流: 可以操作所有类型的文件 
   字符流: 只能操作纯文本文件

5. 什么是纯文本文件
   用windows系统自带的记事本打开闭并且能读懂的文件
   txt文件，md文件，xml文件，lrc文件等

---



## 2.字节流

6. FileOutputStream
   操作本地文件的字节输出流，可以把程序中的数据写到本地文件中

7. 书写步骤
    1. 创建字节输出流对象
    2. 写数据
    3. 释放资源

8. FileOutputStream书写细节
   1. 创建字节输出流对象
      细节1:参数是字符串表述的路径或者File对象都可以
      细节2:如果文件不存在会创建一个新的文件，但是要保证父级文件是存在的
      细节3：如果文件已存在，则会清空文件

   2. 写数据
      细节：write方法的参数是整数，但是实际上写到本地文件中的是整数在ASCII码表对应的字符
   
   3. 释放资源
      细节:每次使用完流之后都要是释放资源

9. FileOutStream写数据的三种方式

            方法名                                                 说明
            void write(int b)                                     一次写一个字节数据
            void write(byte[] b)                                  一次写一个字节数组数据
            void write(byte[] b , int off , int len)              一次写一个字节数组的部分数据

10. FileoutputStream总结
    - FileOutputStream的作用
      可以把程序中的数据写到本地文件上，是字节流的基本流
    - 书写步骤
      创建对象，写出数据，释放文件
    - 三步操作的细节
      创建对象: 文件存在，文件不存在，追加写入
      写出数据: 写出整数，写出字节数组，换行写
      释放资源: 关闭通道f

11. FileIntputStream抒写细节
    - 创建字节流输入流对象
      细节：如果文件不存在，直接报错
    - 读取数据
      细节1：一次读一个字节，读取来的数据是在ASCII码表上对应的数字
      细节2：读到文件末尾了，read方法返回-1
    - 释放资源
      细节： 每次使用完里流必须释放资源



---


## 3.字符集
12. ASCLL和GBK字符集总结
    - 在计算机中，任意数据都是以二进制的形式来存储的
    - 计算机中最小存储单元是一个字节
    - 在ASCII字符集，一个英文占用一个字节
    - 简体中文版windows，默认使用GBK字符集
    - GBK字符集完全兼容ASCII字符集
      一个英文占一个字节，二进制第一位是0
      一个中文占两个字节，二进制高位字节的第一位是1

13. Unicode字符集总结   
    1. Unicode字符集的UTF-8编码规范
       一个英文占一个字节，二进制的第一位是0，转成十进制是正数
       一个中文占三个字节，二进制的第一位是1，第一个字节转成十进制是负数

14. 如何不产生乱码呢
    1. 不要用字符集读取文本文件
    2. 编码解码时使用同一个码表，同一个编码方式

15. java的编码解码的方法

         java中编码的方法

          String类中的方法                               说明
          public byte[] getByte()                       使用默认方式进行编码
          public byte[] getByte(String charsetName)     使用指定方式进行编码

          jaa中解码的方法

          String类中的方法                                说明
          public(byte[] bytes)                           使用默认方式进行解码
          String(byte[] bytes , String charsetName)      使用指定方式进行解码

---

## 4.字符流
16. 字符流的底层其实就是一个字节流
    字符流 = 字节流 + 字符集

17. 特点
    输入流：一次读一个字节，遇到中文时，一次读多个字节
    输出流：底层会把数据按照指定的编码方式进行编码，变成字节写到文件中

18. 使用场景
    对于纯文本文件进行读写操作

19. FileReader
    - 创建字符输入流对象

               方法名                              说明
               public FileReader(File file)        创建字符输入流关联本地文件
               public FileReader(String pathname)   创建字符输入流关联本地文件

               细节：如果文件不存在，就直接变成
      
      - 读取数据

               成员方法                                 说明
               public int read()                       读取数据，读到末尾返回-1
               public int read(char[] buffer)          读取多个数据，读到末尾返回-1

               细节1：按字节进行读取，遇到中文，一次读多个字节，返回一个整数
               细节2：读到文件末尾了，read方法返回-1
      
      - 释放资源

               成员方法                                  说明
               public int close()                        释放资源/关流

20. FileWriter构造方法
    
               构造方法                                                说明
               public FileWriter(File file)                           创建字符输出流关联本地文件
               public FileWriter(String pathname)                     创建字符输出流关联本地文件
               public FileWriter(File file , boolean append)          创建字符输出流关联本地文件，打开续写
               public FileWriter(String pathname , boolean append)    创建字符输出流关联本地文件，打开续写

21. FileWriter成员方法
               
               成员方法                                                说明
               void writer(int c)                                     写出一个字符
               void writer(String str)                                写出一个字符串
               void writer(String str , int off , int len)            写出字符串的一部分
               void writer(char[] cbuf)                               写出一个字符数组
               void writer(char[] cbuf , int off , int len)           写出字符数组的一部分

22. FileWriter书写细节
    - 创建创建字符输出流的对象
      细节1：参数是字符串表示的路径或是File对象都是可以的
      细节2：如果文件不存在会创建一个新的文件，但是要保持父级路径是存在的
      细节3：如果文件已存在，则会清空文件，如果不想清空可以打开续写开关

    - 写数据
      细节：如果writer方法参数是整数，但是实际上写到本地文件中的是整数在字符集上对于的字符

    - 释放资源
      细节：每次使用完流都要释放资源

23. 字符输入流 读取原理  字符流分析原理
     - 创建字符输入流对象
       底层：关联文件，并创建缓冲区(长度8192的字节数组)

     - 读取数据
       底层：1.判断缓冲区中是否有数据可以被读取
             2.缓冲区没有数据：就从文件中获取数据，装到缓冲区，每次尽可能装满缓冲区，
             如果文件中也没听数据了，返回-1
             3.缓冲区有数据：就从缓冲区读取
           空参read方法：一次读取一个字节，遇到中文一次读多个字节，把字节解码并转成十进制返回
           有参的read方法：把读取字节，解码，强转合并了 强转之后的字节放到数组中

24. 字节流和字符流使用场景
    - 字节流：拷贝任意类型的文件
    - 字符流：读取纯文本文件中的数据，往纯文本文件中写出数据


---